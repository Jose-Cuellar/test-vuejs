{"ast":null,"code":"import axios from 'axios';\nimport * as XLSX from 'xlsx';\nexport default {\n  name: 'pruebasVue',\n\n  data() {\n    return {\n      notas: [],\n      arrNotas: [],\n      show_table: false,\n      show_btn: false\n    };\n  },\n\n  methods: {\n    recuperarPost() {\n      axios.get(\"https://jsonplaceholder.typicode.com/posts\").then(respuesta => {\n        if (respuesta.data) {\n          this.notas = respuesta.data;\n          this.show_btn = true;\n          console.log('this.notas: ', JSON.stringify(this.notas)); //   this.$swal({\n          //     title: \"Muy bien\",\n          //   });\n          // } else {\n          //   this.$swal({\n          //     title: \"Oops... Ocurrió un error\",\n          //   });\n        }\n      });\n    },\n\n    downloadExcel() {\n      this.notas.forEach(nota => {\n        this.arrNotas.push({\n          Id: nota.id,\n          Titulo: nota.title\n        });\n      });\n      let data_export = XLSX.utils.json_to_sheet(this.arrNotas);\n      const workbook = XLSX.utils.book_new();\n      const filename = 'post_recuperados';\n      XLSX.utils.book_append_sheet(workbook, data_export, filename);\n      XLSX.writeFile(workbook, `${filename}.xlsx`);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAiCA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,IAAZ,MAAsB,MAAtB;AAEA,eAAe;EACbC,IAAI,EAAE,YADO;;EAEbC,IAAI,GAAE;IACJ,OAAM;MACJC,KAAK,EAAC,EADF;MAEJC,QAAQ,EAAE,EAFN;MAGJC,UAAU,EAAE,KAHR;MAIJC,QAAQ,EAAE;IAJN,CAAN;EAMD,CATY;;EAUbC,OAAO,EAAE;IACPC,aAAa,GAAG;MACdT,KAAK,CAACU,GAAN,CAAU,4CAAV,EAAwDC,IAAxD,CAA8DC,SAAD,IAAe;QAC1E,IAAIA,SAAS,CAACT,IAAd,EAAoB;UAClB,KAAKC,KAAL,GAAaQ,SAAS,CAACT,IAAvB;UACA,KAAKI,QAAL,GAAgB,IAAhB;UACAM,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BC,IAAI,CAACC,SAAL,CAAe,KAAKZ,KAApB,CAA5B,EAHkB,CAKpB;UACA;UACA;UACA;UACA;UACA;UACA;QACA;MACD,CAdD;IAeD,CAjBM;;IAkBPa,aAAa,GAAE;MACb,KAAKb,KAAL,CAAWc,OAAX,CAAoBC,IAAD,IAAU;QAC3B,KAAKd,QAAL,CAAce,IAAd,CAAmB;UACjBC,EAAE,EAACF,IAAI,CAACG,EADS;UAEjBC,MAAM,EAACJ,IAAI,CAACK;QAFK,CAAnB;MAID,CALD;MAOA,IAAIC,WAAU,GAAIxB,IAAI,CAACyB,KAAL,CAAWC,aAAX,CAAyB,KAAKtB,QAA9B,CAAlB;MACA,MAAMuB,QAAO,GAAI3B,IAAI,CAACyB,KAAL,CAAWG,QAAX,EAAjB;MACA,MAAMC,QAAO,GAAI,kBAAjB;MACA7B,IAAI,CAACyB,KAAL,CAAWK,iBAAX,CAA6BH,QAA7B,EAAuCH,WAAvC,EAAoDK,QAApD;MACA7B,IAAI,CAAC+B,SAAL,CAAeJ,QAAf,EAA0B,GAAEE,QAAS,OAArC;IACF;;EA/BO;AAVI,CAAf","names":["axios","XLSX","name","data","notas","arrNotas","show_table","show_btn","methods","recuperarPost","get","then","respuesta","console","log","JSON","stringify","downloadExcel","forEach","nota","push","Id","id","Titulo","title","data_export","utils","json_to_sheet","workbook","book_new","filename","book_append_sheet","writeFile"],"sourceRoot":"","sources":["/home/tars/Documentos/proyectos/test_vue/src/components/pruebas.vue"],"sourcesContent":["<template>\n  <div id=\"aplicacion\">\n    <button class=\"btn_get\" v-on:click=\"recuperarPost()\">\n      Click para mostrar los post\n    </button>\n    <br><br>\n    <div v-if=\"show_table\">\n      <hr>\n        <table id=\"pruebasVue\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>TITLE</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"nota in notas\" v-bind:key=\"nota.id\">\n              <td>{{ nota.id }}</td>\n              <td>{{ nota.title }}</td>\n            </tr>\n          </tbody>\n        </table>\n        <div v-if=\"show_btn\">\n          <button class=\"btn_download\" @click=\"downloadExcel()\">\n            Descargar excel\n          </button>\n        </div>\n      <hr>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport * as XLSX from 'xlsx';\n\nexport default {\n  name: 'pruebasVue',\n  data(){\n    return{\n      notas:[],\n      arrNotas: [],\n      show_table: false,\n      show_btn: false,\n    }\n  },\n  methods: {\n    recuperarPost() {\n      axios.get(\"https://jsonplaceholder.typicode.com/posts\").then((respuesta) => {\n        if (respuesta.data) {\n          this.notas = respuesta.data;\n          this.show_btn = true;\n          console.log('this.notas: ', JSON.stringify(this.notas));\n\n        //   this.$swal({\n        //     title: \"Muy bien\",\n        //   });\n        // } else {\n        //   this.$swal({\n        //     title: \"Oops... Ocurrió un error\",\n        //   });\n        }\n      })\n    },\n    downloadExcel(){\n      this.notas.forEach((nota) => {\n        this.arrNotas.push({\n          Id:nota.id,\n          Titulo:nota.title\n        })\n      });\n\n      let data_export = XLSX.utils.json_to_sheet(this.arrNotas);\n      const workbook = XLSX.utils.book_new();\n      const filename = 'post_recuperados';\n      XLSX.utils.book_append_sheet(workbook, data_export, filename);\n      XLSX.writeFile(workbook, `${filename}.xlsx`);\n    }\n  },\n}\n</script>\n\n<style scoped>\n  #aplicacion{\n    padding: 20px 10px 50px 10px;\n  }\n  #pruebasVue{\n    margin: auto;\n  }\n  th{\n    border: 2px solid #008CBA !important;\n  }\n  th, td{\n    text-align:left;\n    border: 1px solid gray;\n    padding: 10px 10px 10px 10px;\n    margin: auto;\n  }\n  .btn_get{\n    padding: 10px 15px 10px 15px;\n    border: 2px solid;\n    cursor: pointer;\n    background-color: white;\n    color: #008CBA;\n    border-radius: 30px;\n    font-weight: bold;\n  }\n  .btn_get:hover{\n    color: green;\n  }\n  .btn_download{\n    padding: 10px 15px 10px 15px;\n    border: 2px solid;\n    cursor: pointer;\n    background-color: white;\n    color: #008CBA;\n    border-radius: 30px;\n    font-weight: bold;\n    margin-top: 20px;\n  }\n  .btn_download:hover{\n    color: green;\n  }\n</style>\n"]},"metadata":{},"sourceType":"module"}